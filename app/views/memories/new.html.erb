

<h1>Memories#new</h1>
<p>Find me in app/views/memories/new.html.erb</p>



<script type="text/javascript"> 

  navigator.geolocation.getCurrentPosition(set_coordinates);
  function set_coordinates(obj) {
    console.log(obj.coords.latitude);
    console.log(obj.coords.longitude);
    $('input#memory_latitude').val(obj.coords.latitude);
    $('input#memory_longitude').val(obj.coords.longitude);
  };

  $("form.memory_form").submit(function (event) {
    if ($('input.latitude').val() == "") {
      alert("You do not have a location!");
      event.preventDefault();
    }

  });

</script>

<%#= query = memory.lati.to_s + "," + memory[longitude].to_s %>

<div class="memory_create">
    <%= form_for @memory do |f| %>
      <div>
        <%= f.label "title" , "Title" %><br>
        <%= f.text_field "title" %>
      </div>
      <div>
        <%= f.label "description", "Description" %><br>
        <%= f.text_field "description" %>
      </div>
      <div>
        <%= f.label "category" %><br>
        <%= f.text_field "category" %>
      </div>
      <div>
        <%= f.label "media_url", "Upload an Image" %><br>
        <%= f.file_field "media_url" %>
      </div><br>

      <!-- hidden input fields with data collected from browser and geocoder gem
      --> 
      <%= f.hidden_field :longitude %>
      <%= f.hidden_field :latitude %>
      <%= f.hidden_field :city %>
      <%= f.hidden_field :google_place_id %>

      <div><%= f.submit "Submit" %></div>
    <% end %>
  </div>